{
  "permissions": {
    "allow": [
      "mcp__context7__resolve-library-id",
      "mcp__context7__get-library-docs",
      "Bash(npm run lint)",
      "Bash(npm run typecheck:*)",
      "mcp__playwright__browser_navigate",
      "mcp__playwright__browser_click",
      "mcp__playwright__browser_take_screenshot",
      "mcp__playwright__browser_close",
      "Bash(git add:*)",
      "Bash(git log:*)",
      "Bash(find:*)",
      "Bash(git checkout:*)",
      "Bash(cat:*)",
      "Bash(ls:*)",
      "Bash(mv:*)",
      "Bash(pnpm run db:push:*)",
      "Bash(source .env.local)",
      "Bash(export POSTGRES_URL=\"postgresql://neondb_owner:npg_C6dToLlw7qDx@ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require\")",
      "Bash(grep:*)",
      "WebSearch",
      "Bash(gh repo view:*)",
      "Bash(gh auth status:*)",
      "Bash(gh label create:*)",
      "Bash(for i in 1 2 3 4 5 6 7 8 9)",
      "Bash(do gh label create \"phase-$i\" --color \"C5DEF5\" --description \"Phase $i tasks\")",
      "Bash(echo:*)",
      "Bash(done)",
      "Bash(gh issue create:*)",
      "Bash(gh label:*)",
      "Bash(gh repo list:*)",
      "Bash(do gh label create \"phase-$i\" --color \"C5DEF5\" --description \"Phase $i tasks\" --repo fbeach73/painclinics)",
      "Bash(pnpm add:*)",
      "Bash(pnpm run lint)",
      "Bash(pnpm run typecheck:*)",
      "Bash(pnpm run lint:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(npx eslint:*)",
      "mcp__playwright__browser_resize",
      "mcp__playwright__browser_snapshot",
      "mcp__playwright__browser_press_key",
      "Bash(pnpm db:generate:*)",
      "Bash(pnpm db:push:*)",
      "Bash(source:*)",
      "Bash(curl:*)",
      "Bash(export POSTGRES_URL)",
      "Bash(psql:*)",
      "Bash(wc:*)",
      "Bash(csvtool col:*)",
      "Bash(python3:*)",
      "Bash(mkdir:*)",
      "Bash(npx drizzle-kit push:*)",
      "Bash(git -C /Users/kylesweezey/cc/painclinics show HEAD:src/app/clinics/page.tsx)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: implement Local SEO & Schema.org optimization with admin analytics\n\nComplete implementation of 9-phase Local SEO enhancement plan:\n\nPhase 1-3: Database & Schema Enhancements\n- Add city query functions (getCitiesForState, getAllCitiesWithClinics, getAllCityPermalinks)\n- Extend clinic schema with reviews, social links, services, amenities, hasMap\n- Add WebSite, Organization, CityPage, and FAQ schema generators\n- Update breadcrumb schema to support 5-level navigation with city\n\nPhase 4: City Landing Pages\n- Create city-page.tsx component with semantic microdata\n- Add city page routing (2-segment URL handling)\n- Generate static params for all city pages\n- Implement city-specific metadata with geo tags\n\nPhase 5-6: Geo Meta Tags & Homepage Schema\n- Add geo meta tags to clinic, city, and state pages\n- Inject WebSite and Organization JSON-LD on homepage\n- Update root layout metadata with SEO keywords\n\nPhase 7: Enhanced Sitemap\n- Add city landing pages with priority 0.8\n- Include image sitemap extensions for clinics\n\nPhase 8-9: Admin Analytics\n- Create keywords analytics API with sentiment classification\n- Build analytics dashboard with summary cards and keyword table\n- Add state filter dropdown and sentiment badges\n- Add Analytics link to admin sidebar\n\nAdditional changes:\n- Remove deprecated clinics pages and mock data\n- Refactor admin API routes to use centralized auth\n- Add utility libraries (admin-auth, time-utils, maps-utils, html-utils)\n- Add star-rating component\n- Add shadcn Select component\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(pnpm drizzle-kit push:*)",
      "Bash(pnpm drizzle-kit migrate:*)",
      "Bash(pnpm tsx:*)",
      "Bash(pnpm tsc:*)",
      "Bash(POSTGRES_URL=\"postgresql://neondb_owner:npg_C6dToLlw7qDx@ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require\":*)",
      "Bash(POSTGRES_URL=\"postgresql://neondb_owner:npg_C6dToLlw7qDx@ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require\" psql:*)",
      "Bash(npx drizzle-kit:*)",
      "Bash(pnpm list:*)",
      "Bash(pnpm view:*)",
      "Bash(head:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: implement clinic claiming and featured listings system\n\nThis checkpoint includes the complete clinic ownership and subscription\nmanagement system along with code quality improvements.\n\n## Clinic Claiming System\n- Add claim submission API with rate limiting and email verification\n- Create claims admin dashboard with status filtering (pending/approved/rejected)\n- Implement claim approval/rejection workflow with admin notes\n- Add owner portal with claimed clinic management\n- Database schema: claims table with verification tokens and status tracking\n\n## Featured Listings & Subscriptions\n- Integrate Polar.sh for payment processing via webhooks\n- Add subscription management admin dashboard\n- Create featured checkout flow for clinic owners\n- Implement featured badge display on clinic cards and headers\n- Database schema: subscriptions table linked to claims\n\n## Owner Dashboard\n- Create /my-clinics owner portal with sidebar navigation\n- Build comprehensive clinic edit form with all fields\n- Add services manager with real-time add/remove functionality\n- Implement featured upgrade checkout flow\n\n## Authentication Enhancements\n- Extend BetterAuth with owner role support\n- Add session helpers for role-based access control\n- Improve auth-client exports for consistent imports\n\n## UI Components\n- Add FeaturedBadge, ClaimListingButton, ClaimFormModal components\n- Create ClaimBenefitsBanner for unclaimed clinic pages\n- Update ClinicCard to show featured status and owner controls\n- Refactor ClinicHeader and ClinicGallery for claimed/featured states\n\n## Database & Schema\n- Add migration 0004: claims and subscriptions tables\n- Extend clinics schema with isFeatured, isClaimed, hasMap fields\n- Add claim queries and subscription queries modules\n- Create email utility for verification emails\n\n## Specifications\n- clinic-claiming-featured-listings: Full requirements and implementation plan\n- code-quality-improvements: Technical debt and refactoring plan\n\n## Other Improvements\n- Update clinic-db-to-type for new fields\n- Enhance structured data for claimed clinics\n- Add time-utils for date formatting\n- Update admin sidebar with claims and subscriptions links\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(xargs ls:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT photos FROM clinics WHERE permalink = ''pain-management/joshua-meyer-md-al-36207'';\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"\\d clinics\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT clinic_image_urls FROM clinics WHERE permalink = ''pain-management/joshua-meyer-md-al-36207'';\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT DISTINCT unnest(regexp_matches(img, ''^https?://([^/]+)/'', ''g'')) as domain FROM clinics, unnest(clinic_image_urls) as img LIMIT 20;\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT clinic_image_urls[1] FROM clinics WHERE clinic_image_urls[1] LIKE ''%lh3.ggpht%'' LIMIT 1;\")",
      "Bash(gh api:*)",
      "Bash(gh run view:*)",
      "Bash(gh run list:*)",
      "mcp__shadcn__get_add_command_for_items",
      "Bash(pnpm dlx:*)",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT COUNT(*) as with_amenities FROM clinics WHERE amenities IS NOT NULL;\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT COUNT(*) as total FROM clinics;\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT COUNT(*) as total, COUNT(clinic_hours) as with_hours FROM clinics;\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql -h ep-holy-sound-a4l291cj-pooler.us-east-1.aws.neon.tech -U neondb_owner -d neondb -c \"SELECT clinic_hours FROM clinics WHERE clinic_hours IS NOT NULL LIMIT 3;\")",
      "Bash(PGPASSWORD=\"npg_C6dToLlw7qDx\" psql:*)",
      "mcp__playwright__browser_select_option",
      "Bash(xargs -I {} bash -c 'echo \"\"=== {} ===\"\" && head -30 {}')",
      "Bash(for i in {1..20})",
      "Bash(do echo \"\")",
      "Bash(pnpm db:migrate:*)",
      "Bash(pnpm typecheck:*)",
      "Bash(pnpm lint:*)"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "shadcn",
    "playwright",
    "next-devtools"
  ]
}
