"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.writeJsonResponse = writeJsonResponse;
const tslib_1 = require("tslib");
const fs_1 = tslib_1.__importDefault(require("fs"));
const path_1 = tslib_1.__importDefault(require("path"));
function relativePath(targetPath, goback = 0) {
    const levels = Array(Math.max(0, goback - 1)).fill('..');
    return path_1.default.resolve(process.cwd(), ...levels, targetPath.trim());
}
function createDirectoryIfNotExists(passedPath) {
    const dirPath = relativePath(passedPath, 0);
    if (!fs_1.default.existsSync(dirPath)) {
        fs_1.default.mkdirSync(dirPath, { recursive: true });
    }
}
let outputDirectoryCreated = false;
function createOutputDirectoryIfNotExists() {
    // Check if output directory exists, if not, create it
    if (!outputDirectoryCreated) {
        createDirectoryIfNotExists("output");
        createDirectoryIfNotExists("output/responses");
        outputDirectoryCreated = true;
    }
}
function writeJsonResponse(filePath, data, indent = 4) {
    createOutputDirectoryIfNotExists();
    fs_1.default.writeFileSync(filePath, JSON.stringify(data, null, indent), { encoding: 'utf-8' });
}
//# sourceMappingURL=utils.js.map